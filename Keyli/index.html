<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>keyli</title>

    <img src="keyli.png" alt="">

    <style>
        body{
            background-image: url(2.png);
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style> 
</head>
<body class="font-sans">

    <div class="flex pt-10"> 
    <h1 class="text-3xl font-bold mb-7 mr-100 ml-123 text-white">Juego de Decisiones</h1>
    <p class="text-white">Puntaje: <span id="puntaje">0</span></p>
    </div>

    <p id="pregunta" class="pt- text-xl flex justify-center mb-15 text-white px-50"></p>

    <div class="flex pt- justify-center">        
    <div class="flex flex-col mt-" id="opciones" ></div>    
    </div>

    <div id="reinicio" class="flex justify-center" ></div>

    

    <script>
         const preguntas = [
            {
                texto: "Explorando un mundo nunca antes visto, llegas a un río lleno de peces traslúcidos con dientes. ¿Cómo intentas cruzarlo?",
                opciones: [
                    { texto: "Nadas rápidamente", puntos: -5 },
                    { texto: "Usas una roca o tronco como puente", puntos: 10 },
                    { texto: "Lanzas comida para distraer a los peces", puntos: -10 },
                    { texto: "Buscas un tramo más angosto para saltar", puntos: 0 }
                ]
            },
            {
                texto: "En otra expedición, una criatura mágica bloquea tu camino y te propone una adivinanza para dejarte pasar. ¿Qué haces?",
                opciones: [
                    { texto: "Aceptas el reto", puntos: 10 },
                    { texto: "Ignoras a la criatura y tomas otro sendero", puntos: -5 },
                    { texto: "Intentas engañarla para que la dejes pasar", puntos: 0 },
                    { texto: "La enfrentas con tu arma", puntos: -10 }
                ]
            },
            {
                texto: "Durante una investigación en un bosque, una criatura te entrega un objeto misterioso y te advierte que, si lo usas, perderás para siempre este objeto. ¿Qué haces?",
                opciones: [
                    { texto: "Usar el objeto de inmediato", puntos: -5 },
                    { texto: "Devolverlo a la criatura", puntos: 0 },
                    { texto: "Guardarlo para tí", puntos: 10 },
                    { texto: "Decidir no usarlo nunca", puntos: 0 }
                ]
            },
            {
                texto: "En una aldea remota, un grupo de personas te dice que un objeto que posees podría haber salvado a una criatura mágica. ¿Cómo respondes?",
                opciones: [
                    { texto: "Dices la verdad", puntos: 5 },
                    { texto: "Mientes para protegerte", puntos: -5 },
                    { texto: "te quedas en la aldea para ayudar", puntos: 10 },
                    { texto: "Te marchas sin dar explicaciones", puntos: -10 }
                ]
            },
            {
                texto: "Mientras exploras, una criatura mágica se te acerca y te pide ayuda para regresar a una caverna profunda. ¿Qué haces?",
                opciones: [
                    { texto: "Aceptas ayudarla", puntos: 10 },
                    { texto: "Te niegas rotundamente", puntos: -5 },
                    { texto: "Aceptas, pero pides una recompensa", puntos: 0 },
                    { texto: "Te alejas sin ayudarla", puntos: -10 }
                ]
            },
        ];

        let puntaje = 0;
        let indicePregunta = 0;

        function mostrarPregunta() {
            document.getElementById("reinicio").innerHTML = ""; 
            if (indicePregunta < preguntas.length) {
                const pregunta = preguntas[indicePregunta];
                document.getElementById("pregunta").textContent = pregunta.texto;
                
                const opcionesDiv = document.getElementById("opciones");
                opcionesDiv.innerHTML = "";

                pregunta.opciones.forEach(opcion => {
                    const boton = document.createElement("button");
                    boton.textContent = opcion.texto;
                    boton.className = "p-2 border-4 border-blue-500  mx- rounded my-2 bg-neutral-200"
                    boton.onclick = () => {
                        puntaje += opcion.puntos;
                        document.getElementById("puntaje").textContent = puntaje;
                        indicePregunta++;
                        mostrarPregunta();
                    };
                    opcionesDiv.appendChild(boton);
                });
            } else {
                mostrarResultado();
            }
        }

        function mostrarResultado() {
            document.getElementById("pregunta").textContent = "Juego terminado";
            document.getElementById("opciones").innerHTML = "";

            const reinicioDiv = document.getElementById("reinicio");

            if (puntaje >= 45) {
                document.getElementById("pregunta").textContent += "  Ganaste!!";

                const botonRedirect = document.createElement("button");
                botonRedirect.textContent = "Elegir otro personaje";
                botonRedirect.className = "bg-neutral-200 border-4 border-red-500 p-2 my-2 mr-3 rounded shadow-md transition duration-200";
                botonRedirect.onclick = () => {
                  
                    window.location.href = "../eleccion de personaje.html";
                };

                reinicioDiv.appendChild(botonRedirect);
                    
            } else {
                document.getElementById("pregunta").textContent += "  Perdiste.";
            }

            const botonReinicio = document.createElement("button");
            botonReinicio.className = "p-2 border-4 border-blue-500  mx- rounded my-2 bg-neutral-200 shadow-md transition duration-200"
            botonReinicio.textContent = "Volver a jugar";
            botonReinicio.onclick = reiniciarJuego;
            reinicioDiv.appendChild(botonReinicio);
        }

        function reiniciarJuego() {
            puntaje = 0;
            indicePregunta = 0;
            document.getElementById("puntaje").textContent = puntaje;
            mostrarPregunta();
        }

        mostrarPregunta();
    </script>
    <audio id="bgm" src="Música Bosque Mágico Instrumental│Música instrumental relajante - Musica Del mundo.mp3" autoplay loop hidden></audio>
</body>
</html>