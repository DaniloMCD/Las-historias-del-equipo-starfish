<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>Document</title>

    <style>
        body{
            background-image: url(Fondo\ de\ juego\ nat1.png);
            background-repeat: no-repeat;
            background-size: cover;
        }
    </style>
</head>
<body class="font-sans">

    <div class="flex pt-10"> 
    <h1 class="text-3xl font-bold mb-7 mr-100 ml-123 text-white">Juego de Decisiones</h1>
    <p class="text-white">Puntaje: <span id="puntaje">0</span></p>
    </div>

    <p id="pregunta" class="pt- text-xl flex justify-center mb-15 text-white px-50"></p>

    <div class="flex pt- justify-center">        
    <div class="flex flex-col mt-" id="opciones" ></div>    
    </div>

    <div id="reinicio" class="flex justify-center" ></div>

    

    <script>
         const preguntas = [
            {
                texto: "Te encuentras en el fondo de un cañón en la Selva Lumina, rodeada de plantas brillantes y un río de savia dorada que emite vapor.¿Qué haces para intentar salir?",
                opciones: [
                    { texto: "Buscas un túnel o cueva.", puntos: 10 },
                    { texto: "Sigues el río de savia.", puntos: 0 },
                    { texto: "Intentas escalar con ramas.", puntos: -5 },
                    { texto: "Haces una fogata.", puntos: -10 }
                ]
            },
            {
                texto: "Un ser de luz aparece y dice que solo te ayudará si le traes la flor de la eterna juventud.¿Qué haces?",
                opciones: [
                    { texto: "Aceptas la misión. ", puntos: 10 },
                    { texto: "e niegas y buscas otro camino.", puntos: -5 },
                    { texto: "Le pides ayuda para salir.", puntos: 0 },
                    { texto: "La atacas.", puntos: -10 }
                ]
            },
            {
                texto: "En un campo de flores, sabes que solo una es la correcta para tu misión.¿Qué vas a hacer ?",
                opciones: [
                    { texto: "Buscas la flor más brillante.", puntos: 0 },
                    { texto: "No tomas ninguna.", puntos: -5 },
                    { texto: "Agarras la primera que ves.", puntos: 10 },
                    { texto: "Te guías por tu intuición.", puntos: 10 }
                ]
            },
            {
                texto: "Explorando otra zona del cañón, encuentras un árbol gigante que bloquea el único paso hacia un claro iluminado.¿Qué haces?",
                opciones: [
                    { texto: "Trepas por encima del tronco.", puntos: 0 },
                    { texto: "Te detienes y acampas.", puntos: -5 },
                    { texto: " Buscas un camino alterno. ", puntos: 10 },
                    { texto: "Intentas cortar el árbol.", puntos: -10 }
                ]
            },
            {
                texto: "Te reúnes con tu equipo y te dicen que la flor era la clave para salvar la selva.¿Qué haces?",
                opciones: [
                    { texto: "Les dices la verdad.", puntos: -5 },
                    { texto: "Te quedas en la selva para ayudar.", puntos: 10 },
                    { texto: "Les mientes.", puntos: 0 },
                    { texto: "Te vas.", puntos: -10 }
                ]
            },
        ];

        let puntaje = 0;
        let indicePregunta = 0;

        function mostrarPregunta() {
            document.getElementById("reinicio").innerHTML = ""; 
            if (indicePregunta < preguntas.length) {
                const pregunta = preguntas[indicePregunta];
                document.getElementById("pregunta").textContent = pregunta.texto;
                
                const opcionesDiv = document.getElementById("opciones");
                opcionesDiv.innerHTML = "";

                pregunta.opciones.forEach(opcion => {
                    const boton = document.createElement("button");
                    boton.textContent = opcion.texto;
                    boton.className = "p-2 border-4 border-blue-500  mx- rounded my-2 bg-neutral-200 duration-300 ease-in-out hover:scale-120"
                    boton.onclick = () => {
                        puntaje += opcion.puntos;
                        document.getElementById("puntaje").textContent = puntaje;
                        indicePregunta++;
                        mostrarPregunta();
                    };
                    opcionesDiv.appendChild(boton);
                });
            } else {
                mostrarResultado();
            }
        }

        function mostrarResultado() {
            document.getElementById("pregunta").textContent = "Juego terminado";
            document.getElementById("opciones").innerHTML = "";

            const reinicioDiv = document.getElementById("reinicio");

            if (puntaje >= 40) {
                document.getElementById("pregunta").textContent += "  Ganaste!!";

                const botonRedirect = document.createElement("button");
                botonRedirect.textContent = "Elegir otro personaje";
                botonRedirect.className = "bg-neutral-200 border-4 border-red-500 p-2 my-2 mr-3 rounded shadow-md duration-300 ease-in-out hover:scale-120";
                botonRedirect.onclick = () => {
                  
                    window.location.href = "../eleccion de personaje.html";
                };

                reinicioDiv.appendChild(botonRedirect);
                    
            } else {
                document.getElementById("pregunta").textContent += "  Perdiste.";
            }

            const botonReinicio = document.createElement("button");
            botonReinicio.className = "p-2 border-4 border-blue-500  mx- rounded my-2 bg-neutral-200 shadow-md duration-300 ease-in-out hover:scale-120"
            botonReinicio.textContent = "Volver a jugar";
            botonReinicio.onclick = reiniciarJuego;
            reinicioDiv.appendChild(botonReinicio);
        }

        function reiniciarJuego() {
            puntaje = 0;
            indicePregunta = 0;
            document.getElementById("puntaje").textContent = puntaje;
            mostrarPregunta();
        }

        mostrarPregunta();
    </script>

<audio id="bgm" src="../imagenes/castillo theme para danilo level.mp3" autoplay loop hidden></audio>

</body>
</html>